/*! auralizr 2014-01-19 */
function auralizr(){var a=!1;window.AudioContext=window.AudioContext||window.webkitAudioContext;var b=new AudioContext;convolver=b.createConvolver(),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,navigator.getUserMedia({audio:!0},gotStream);var c=b.createMediaStreamSource(stream);c.connect(convolver),a=!0}auralizr.prototype.load=function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0),d.responseType="arraybuffer",d.onload=function(){self.irArray[b]=self.audioContext.createBuffer(d.response,!1),c(b)},d.send()},auralizr.prototype.isReady=function(a){return self.isMicEnabled&&self.irArray.hasOwnProperty(a)&&void 0!==self.irArray[a]},auralizr.prototype.use=function(a){self.irArray.hasOwnProperty(a)&&void 0!==self.irArray[a]&&(self.convolver.buffer=self.irArray[a])},auralizr.prototype.start=function(){self.isMicEnabled&&null!==self.convolver.buffer&&self.convolver.connect(self.audioContext.destination)},auralizr.prototype.stop=function(){self.convolver.disconnect()},modules.export=auralizr;